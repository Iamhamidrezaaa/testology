// ØªØ³Øª Ø³Ø§Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Ø¨Ø±Ø±Ø³ÛŒ deduplication
const testQuestions = {
  mbti: [
    { id: "1", text: "Ø¯Ø± Ù…Ù‡Ù…Ø§Ù†ÛŒâ€ŒÙ‡Ø§ ØªØ±Ø¬ÛŒØ­ Ù…ÛŒâ€ŒØ¯Ù‡ÛŒØ¯ Ø¨Ø§ Ø§ÙØ±Ø§Ø¯ Ø¬Ø¯ÛŒØ¯ Ø¢Ø´Ù†Ø§ Ø´ÙˆÛŒØ¯." },
    { id: "2", text: "Ø§Ù†Ø±Ú˜ÛŒ Ø®ÙˆØ¯ Ø±Ø§ Ø§Ø² Ú¯Ø°Ø±Ø§Ù†Ø¯Ù† ÙˆÙ‚Øª Ø¨Ø§ Ø¯ÛŒÚ¯Ø±Ø§Ù† Ø¨Ù‡ Ø¯Ø³Øª Ù…ÛŒâ€ŒØ¢ÙˆØ±ÛŒØ¯." },
    { id: "3", text: "Ù‚Ø¨Ù„ Ø§Ø² ØªØµÙ…ÛŒÙ…â€ŒÚ¯ÛŒØ±ÛŒØŒ ØªÙ…Ø§Ù… Ú¯Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯." },
    { id: "4", text: "Ø¯Ø± Ú©Ø§Ø±Ù‡Ø§ÛŒ Ú¯Ø±ÙˆÙ‡ÛŒ Ø¨Ù‡ØªØ± Ø¹Ù…Ù„ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯." },
    { id: "5", text: "Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒØ±ÛŒØ²ÛŒ Ø¯Ù‚ÛŒÙ‚ Ø¨Ø±Ø§ÛŒ Ø¢ÛŒÙ†Ø¯Ù‡ Ø±Ø§ ØªØ±Ø¬ÛŒØ­ Ù…ÛŒâ€ŒØ¯Ù‡ÛŒØ¯." },
    { id: "6", text: "Ø§Ø² ØªØºÛŒÛŒØ±Ø§Øª Ù†Ø§Ú¯Ù‡Ø§Ù†ÛŒ Ø¯Ø± Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ‡Ø§ Ù†Ø§Ø±Ø§Ø­Øª Ù…ÛŒâ€ŒØ´ÙˆÛŒØ¯." },
    { id: "7", text: "Ø¯Ø± Ø­Ù„ Ù…Ø³Ø§Ø¦Ù„ØŒ Ø§Ø² Ø±ÙˆØ´â€ŒÙ‡Ø§ÛŒ Ù…Ù†Ø·Ù‚ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯." },
    { id: "8", text: "Ø§Ø­Ø³Ø§Ø³Ø§Øª Ø¯ÛŒÚ¯Ø±Ø§Ù† Ø±Ø§ Ø¯Ø± ØªØµÙ…ÛŒÙ…â€ŒÚ¯ÛŒØ±ÛŒâ€ŒÙ‡Ø§ Ø¯Ø± Ù†Ø¸Ø± Ù…ÛŒâ€ŒÚ¯ÛŒØ±ÛŒØ¯." },
    { id: "9", text: "Ø¯Ø± Ù…Ø­ÛŒØ·â€ŒÙ‡Ø§ÛŒ Ø¢Ø±Ø§Ù… Ùˆ Ø³Ø§Ú©Øª Ø¨Ù‡ØªØ± Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯." },
    { id: "10", text: "Ø§Ø² Ø§Ù†Ø¬Ø§Ù… Ú©Ø§Ø±Ù‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ Ùˆ Ú†Ø§Ù„Ø´â€ŒØ¨Ø±Ø§Ù†Ú¯ÛŒØ² Ù„Ø°Øª Ù…ÛŒâ€ŒØ¨Ø±ÛŒØ¯." },
    { id: "11", text: "Ù‚Ø¨Ù„ Ø§Ø² ØµØ­Ø¨Øª Ú©Ø±Ø¯Ù†ØŒ Ú©Ù„Ù…Ø§Øª Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ø§ Ø¯Ù‚Øª Ø§Ù†ØªØ®Ø§Ø¨ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯." },
    { id: "12", text: "Ø¯Ø± Ø±ÙˆØ§Ø¨Ø·ØŒ ØµÙ…ÛŒÙ…ÛŒØª Ùˆ Ù†Ø²Ø¯ÛŒÚ©ÛŒ Ø±Ø§ ØªØ±Ø¬ÛŒØ­ Ù…ÛŒâ€ŒØ¯Ù‡ÛŒØ¯." },
    { id: "13", text: "Ø§Ø² Ú©Ø§Ø±Ù‡Ø§ÛŒ ØªÚ©Ø±Ø§Ø±ÛŒ Ùˆ ÛŒÚ©Ù†ÙˆØ§Ø®Øª Ø®Ø³ØªÙ‡ Ù…ÛŒâ€ŒØ´ÙˆÛŒØ¯." },
    { id: "14", text: "Ø¯Ø± ØªØµÙ…ÛŒÙ…â€ŒÚ¯ÛŒØ±ÛŒâ€ŒÙ‡Ø§ØŒ Ø¹Ù‚Ù„ Ø±Ø§ Ø¨Ø± Ø§Ø­Ø³Ø§Ø³ ØªØ±Ø¬ÛŒØ­ Ù…ÛŒâ€ŒØ¯Ù‡ÛŒØ¯." },
    { id: "15", text: "Ø§Ø² Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø®ÙˆØ¯Ø¬ÙˆØ´ Ùˆ ØºÛŒØ±Ù…Ù†ØªØ¸Ø±Ù‡ Ù„Ø°Øª Ù…ÛŒâ€ŒØ¨Ø±ÛŒØ¯." },
    { id: "16", text: "Ø¯Ø± Ú©Ø§Ø±Ù‡Ø§ØŒ Ø¬Ø²Ø¦ÛŒØ§Øª Ø±Ø§ Ø¨Ø§ Ø¯Ù‚Øª Ø¨Ø±Ø±Ø³ÛŒ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯." },
    { id: "17", text: "Ø§Ø² Ø¨Ø­Ø«â€ŒÙ‡Ø§ÛŒ ÙÙ„Ø³ÙÛŒ Ùˆ Ù†Ø¸Ø±ÛŒ Ù„Ø°Øª Ù…ÛŒâ€ŒØ¨Ø±ÛŒØ¯." },
    { id: "18", text: "Ø¯Ø± Ø±ÙˆØ§Ø¨Ø·ØŒ Ø§Ø³ØªÙ‚Ù„Ø§Ù„ Ùˆ Ø¢Ø²Ø§Ø¯ÛŒ Ø±Ø§ Ù…Ù‡Ù… Ù…ÛŒâ€ŒØ¯Ø§Ù†ÛŒØ¯." },
    { id: "19", text: "Ø§Ø² Ú©Ø§Ø±Ù‡Ø§ÛŒ Ø¹Ù…Ù„ÛŒ Ùˆ Ø¯Ø³ØªÛŒ Ù„Ø°Øª Ù…ÛŒâ€ŒØ¨Ø±ÛŒØ¯." },
    { id: "20", text: "Ø¯Ø± ØªØµÙ…ÛŒÙ…â€ŒÚ¯ÛŒØ±ÛŒâ€ŒÙ‡Ø§ØŒ Ø§Ø±Ø²Ø´â€ŒÙ‡Ø§ Ùˆ Ø§ØµÙˆÙ„ Ø´Ø®ØµÛŒ Ø±Ø§ Ø¯Ø± Ù†Ø¸Ø± Ù…ÛŒâ€ŒÚ¯ÛŒØ±ÛŒØ¯." }
  ]
};

// Ú©Ù¾ÛŒ Ø³Ø§Ø¯Ù‡ Ø§Ø² ØªØ§Ø¨Ø¹ normalize
function normalizeQuestionText(raw) {
  if (!raw || typeof raw !== "string") return "";
  return raw
    .toLowerCase()
    .replace(/\s+/g, " ")
    .replace(/[ØŸ?!.ØŒ,:Ø›]/g, "")
    .trim();
}

// Ø¨Ø±Ø±Ø³ÛŒ ØªÚ©Ø±Ø§Ø±ÛŒâ€ŒÙ‡Ø§
const seen = new Map();
const duplicates = [];

testQuestions.mbti.forEach((q, index) => {
  const key = normalizeQuestionText(q.text);
  if (seen.has(key)) {
    duplicates.push({
      index: index + 1,
      text: q.text,
      duplicateOf: seen.get(key) + 1,
      originalText: testQuestions.mbti[seen.get(key)].text
    });
  } else {
    seen.set(key, index);
  }
});

console.log(`\nðŸ“Š Ø¨Ø±Ø±Ø³ÛŒ Ø³ÙˆØ§Ù„â€ŒÙ‡Ø§ÛŒ MBTI:`);
console.log(`ØªØ¹Ø¯Ø§Ø¯ Ú©Ù„: ${testQuestions.mbti.length}`);
console.log(`ØªØ¹Ø¯Ø§Ø¯ unique: ${seen.size}`);
console.log(`ØªØ¹Ø¯Ø§Ø¯ ØªÚ©Ø±Ø§Ø±ÛŒ: ${duplicates.length}`);

if (duplicates.length > 0) {
  console.log(`\nâš ï¸ Ø³ÙˆØ§Ù„â€ŒÙ‡Ø§ÛŒ ØªÚ©Ø±Ø§Ø±ÛŒ Ù¾ÛŒØ¯Ø§ Ø´Ø¯:`);
  duplicates.forEach(d => {
    console.log(`\n  Ø³ÙˆØ§Ù„ ${d.index}: "${d.text}"`);
    console.log(`  ØªÚ©Ø±Ø§Ø±ÛŒ Ø§Ø² Ø³ÙˆØ§Ù„ ${d.duplicateOf}: "${d.originalText}"`);
  });
} else {
  console.log(`\nâœ… Ù‡ÛŒÚ† Ø³ÙˆØ§Ù„ ØªÚ©Ø±Ø§Ø±ÛŒ Ù¾ÛŒØ¯Ø§ Ù†Ø´Ø¯`);
}

