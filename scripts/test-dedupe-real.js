// ØªØ³Øª ÙˆØ§Ù‚Ø¹ÛŒ deduplication Ø¨Ø§ Ø³ÙˆØ§Ù„â€ŒÙ‡Ø§ÛŒ ØªÚ©Ø±Ø§Ø±ÛŒ
const { dedupeQuestions } = require('./lib/tests/dedupeQuestions.ts');

// ØªØ³Øª Ø¨Ø§ Ø³ÙˆØ§Ù„â€ŒÙ‡Ø§ÛŒ ØªÚ©Ø±Ø§Ø±ÛŒ ÙˆØ§Ù‚Ø¹ÛŒ
const testQuestions = [
  { id: "1", text: "Ø¯Ø± Ù…Ù‡Ù…Ø§Ù†ÛŒâ€ŒÙ‡Ø§ ØªØ±Ø¬ÛŒØ­ Ù…ÛŒâ€ŒØ¯Ù‡ÛŒØ¯ Ø¨Ø§ Ø§ÙØ±Ø§Ø¯ Ø¬Ø¯ÛŒØ¯ Ø¢Ø´Ù†Ø§ Ø´ÙˆÛŒØ¯." },
  { id: "2", text: "Ø§Ù†Ø±Ú˜ÛŒ Ø®ÙˆØ¯ Ø±Ø§ Ø§Ø² Ú¯Ø°Ø±Ø§Ù†Ø¯Ù† ÙˆÙ‚Øª Ø¨Ø§ Ø¯ÛŒÚ¯Ø±Ø§Ù† Ø¨Ù‡ Ø¯Ø³Øª Ù…ÛŒâ€ŒØ¢ÙˆØ±ÛŒØ¯." },
  { id: "3", text: "Ù‚Ø¨Ù„ Ø§Ø² ØªØµÙ…ÛŒÙ…â€ŒÚ¯ÛŒØ±ÛŒØŒ ØªÙ…Ø§Ù… Ú¯Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯." },
  { id: "4", text: "Ø¯Ø± Ú©Ø§Ø±Ù‡Ø§ÛŒ Ú¯Ø±ÙˆÙ‡ÛŒ Ø¨Ù‡ØªØ± Ø¹Ù…Ù„ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯." },
  // ØªÚ©Ø±Ø§Ø±ÛŒ Ø§Ø¶Ø§ÙÙ‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…
  { id: "5", text: "Ø¯Ø± Ù…Ù‡Ù…Ø§Ù†ÛŒâ€ŒÙ‡Ø§ ØªØ±Ø¬ÛŒØ­ Ù…ÛŒâ€ŒØ¯Ù‡ÛŒØ¯ Ø¨Ø§ Ø§ÙØ±Ø§Ø¯ Ø¬Ø¯ÛŒØ¯ Ø¢Ø´Ù†Ø§ Ø´ÙˆÛŒØ¯." }, // ØªÚ©Ø±Ø§Ø±ÛŒ Ø§Ø² 1
  { id: "6", text: "Ù‚Ø¨Ù„ Ø§Ø² ØªØµÙ…ÛŒÙ…â€ŒÚ¯ÛŒØ±ÛŒØŒ ØªÙ…Ø§Ù… Ú¯Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯." }, // ØªÚ©Ø±Ø§Ø±ÛŒ Ø§Ø² 3
  { id: "7", text: "Ø¯Ø± Ú©Ø§Ø±Ù‡Ø§ÛŒ Ú¯Ø±ÙˆÙ‡ÛŒ Ø¨Ù‡ØªØ± Ø¹Ù…Ù„ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯." }, // ØªÚ©Ø±Ø§Ø±ÛŒ Ø§Ø² 4
];

console.log('ğŸ“Š ØªØ³Øª deduplication:');
console.log(`ØªØ¹Ø¯Ø§Ø¯ Ø§ØµÙ„ÛŒ: ${testQuestions.length}`);

try {
  const unique = dedupeQuestions(testQuestions);
  console.log(`ØªØ¹Ø¯Ø§Ø¯ unique: ${unique.length}`);
  console.log(`Ø­Ø°Ù Ø´Ø¯Ù‡: ${testQuestions.length - unique.length}`);
  
  if (testQuestions.length - unique.length > 0) {
    console.log('\nâœ… deduplication Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯!');
  } else {
    console.log('\nâŒ deduplication Ú©Ø§Ø± Ù†Ù…ÛŒâ€ŒÚ©Ù†Ø¯!');
  }
} catch (e) {
  console.error('âŒ Ø®Ø·Ø§:', e.message);
}

