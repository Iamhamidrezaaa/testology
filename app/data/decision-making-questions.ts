import { Question } from '@/types/test'
import { normalizeQuestions } from '@/lib/helpers/question-helper'

// فقط فیلدهای خام هر سؤال
type RawQuestion = Pick<Question, 'text' | 'options'>


const rawQuestions: RawQuestion[] = [
  {
    text: "من در تصمیم‌گیری سریع هستم",
    options: [
      "کاملاً مخالفم",
      "مخالفم",
      "نظری ندارم",
      "موافقم",
      "کاملاً موافقم"
    ]
  },
  {
    text: "من قبل از تصمیم‌گیری همه گزینه‌ها را بررسی می‌کنم",
    options: [
      "کاملاً مخالفم",
      "مخالفم",
      "نظری ندارم",
      "موافقم",
      "کاملاً موافقم"
    ]
  },
  {
    text: "من از دیگران مشورت می‌گیرم",
    options: [
      "کاملاً مخالفم",
      "مخالفم",
      "نظری ندارم",
      "موافقم",
      "کاملاً موافقم"
    ]
  },
  {
    text: "من از تجربه‌های گذشته درس می‌گیرم",
    options: [
      "کاملاً مخالفم",
      "مخالفم",
      "نظری ندارم",
      "موافقم",
      "کاملاً موافقم"
    ]
  },
  {
    text: "من از منطق و تحلیل استفاده می‌کنم",
    options: [
      "کاملاً مخالفم",
      "مخالفم",
      "نظری ندارم",
      "موافقم",
      "کاملاً موافقم"
    ]
  },
  {
    text: "من از احساسات و شهود استفاده می‌کنم",
    options: [
      "کاملاً مخالفم",
      "مخالفم",
      "نظری ندارم",
      "موافقم",
      "کاملاً موافقم"
    ]
  },
  {
    text: "من از اطلاعات و داده‌ها استفاده می‌کنم",
    options: [
      "کاملاً مخالفم",
      "مخالفم",
      "نظری ندارم",
      "موافقم",
      "کاملاً موافقم"
    ]
  },
  {
    text: "من از تجربه‌های دیگران استفاده می‌کنم",
    options: [
      "کاملاً مخالفم",
      "مخالفم",
      "نظری ندارم",
      "موافقم",
      "کاملاً موافقم"
    ]
  },
  {
    text: "من از مشاوره متخصصان استفاده می‌کنم",
    options: [
      "کاملاً مخالفم",
      "مخالفم",
      "نظری ندارم",
      "موافقم",
      "کاملاً موافقم"
    ]
  },
  {
    text: "من از روش‌های علمی استفاده می‌کنم",
    options: [
      "کاملاً مخالفم",
      "مخالفم",
      "نظری ندارم",
      "موافقم",
      "کاملاً موافقم"
    ]
  },
  {
    text: "من از روش‌های خلاقانه استفاده می‌کنم",
    options: [
      "کاملاً مخالفم",
      "مخالفم",
      "نظری ندارم",
      "موافقم",
      "کاملاً موافقم"
    ]
  },
  {
    text: "من از روش‌های سنتی استفاده می‌کنم",
    options: [
      "کاملاً مخالفم",
      "مخالفم",
      "نظری ندارم",
      "موافقم",
      "کاملاً موافقم"
    ]
  },
  {
    text: "من از روش‌های نوآورانه استفاده می‌کنم",
    options: [
      "کاملاً مخالفم",
      "مخالفم",
      "نظری ندارم",
      "موافقم",
      "کاملاً موافقم"
    ]
  },
  {
    text: "من از روش‌های عملی استفاده می‌کنم",
    options: [
      "کاملاً مخالفم",
      "مخالفم",
      "نظری ندارم",
      "موافقم",
      "کاملاً موافقم"
    ]
  },
  {
    text: "من از روش‌های نظری استفاده می‌کنم",
    options: [
      "کاملاً مخالفم",
      "مخالفم",
      "نظری ندارم",
      "موافقم",
      "کاملاً موافقم"
    ]
  }
]



// خروجی نهایی با فیلدهای اجباری تکمیل می‌شود
export const decisionMakingQuestions: Question[] = normalizeQuestions(rawQuestions, {
  testId: 'decision-making',
  type: 'SINGLE_CHOICE',
  required: true
})

export const decisionMakingOptions = [
  { label: "کاملاً مخالفم", value: "1" },
  { label: "مخالفم", value: "2" },
  { label: "نظری ندارم", value: "3" },
  { label: "موافقم", value: "4" },
  { label: "کاملاً موافقم", value: "5" }
]

export const getDecisionMakingInterpretation = (score: number): string => {
  if (score <= 2) {
    return "مهارت‌های تصمیم‌گیری شما نیاز به بهبود دارد. توصیه می‌شود که در دوره‌های تصمیم‌گیری شرکت کنید."
  } else if (score <= 3) {
    return "مهارت‌های تصمیم‌گیری شما متوسط است. می‌توانید با تمرین بیشتر بهبود یابید."
  } else if (score <= 4) {
    return "مهارت‌های تصمیم‌گیری شما خوب است. شما تصمیم‌گیرنده ماهری هستید."
  } else {
    return "مهارت‌های تصمیم‌گیری شما عالی است. شما یک تصمیم‌گیرنده بسیار ماهر هستید."
  }
}

export const calculateDecisionMakingScore = (answers: string[]): number => {
  const total = answers.reduce((sum, answer) => sum + parseInt(answer), 0)
  return total / answers.length
}

export default decisionMakingQuestions


