import { Question } from '@/types/test'
import { normalizeQuestions } from '@/lib/helpers/question-helper'

// فقط فیلدهای خام هر سؤال
type RawQuestion = Pick<Question, 'text' | 'options'>


const rawQuestions: RawQuestion[] = [
  {
    text: "در ماه گذشته، چقدر احساس کرده‌اید که چیزهای غیرمنتظره‌ای اتفاق افتاده که شما را ناراحت کرده است؟",
    options: [
      "هیچ وقت",
      "به ندرت",
      "گاهی",
      "اغلب",
      "خیلی زیاد"
    ]
  },
  {
    text: "در ماه گذشته، چقدر احساس کرده‌اید که کنترل مهم‌ترین چیزهای زندگی خود را از دست داده‌اید؟",
    options: [
      "هیچ وقت",
      "به ندرت",
      "گاهی",
      "اغلب",
      "خیلی زیاد"
    ]
  },
  {
    text: "در ماه گذشته، چقدر احساس کرده‌اید که عصبی یا استرس دارید؟",
    options: [
      "هیچ وقت",
      "به ندرت",
      "گاهی",
      "اغلب",
      "خیلی زیاد"
    ]
  },
  {
    text: "در ماه گذشته، چقدر احساس کرده‌اید که مطمئن نیستید که می‌توانید مسئولیت‌های شخصی خود را انجام دهید؟",
    options: [
      "هیچ وقت",
      "به ندرت",
      "گاهی",
      "اغلب",
      "خیلی زیاد"
    ]
  },
  {
    text: "در ماه گذشته، چقدر احساس کرده‌اید که همه چیز درست پیش می‌رود؟",
    options: [
      "هیچ وقت",
      "به ندرت",
      "گاهی",
      "اغلب",
      "خیلی زیاد"
    ]
  },
  {
    text: "در ماه گذشته، چقدر احساس کرده‌اید که نمی‌توانید با همه چیزهایی که باید انجام دهید کنار بیایید؟",
    options: [
      "هیچ وقت",
      "به ندرت",
      "گاهی",
      "اغلب",
      "خیلی زیاد"
    ]
  },
  {
    text: "در ماه گذشته، چقدر احساس کرده‌اید که می‌توانید مشکلات شخصی خود را کنترل کنید؟",
    options: [
      "هیچ وقت",
      "به ندرت",
      "گاهی",
      "اغلب",
      "خیلی زیاد"
    ]
  },
  {
    text: "در ماه گذشته، چقدر احساس کرده‌اید که همه چیز درست پیش می‌رود؟",
    options: [
      "هیچ وقت",
      "به ندرت",
      "گاهی",
      "اغلب",
      "خیلی زیاد"
    ]
  },
  {
    text: "در ماه گذشته، چقدر احساس کرده‌اید که به دلیل چیزهایی که خارج از کنترل شما بوده، عصبانی شده‌اید؟",
    options: [
      "هیچ وقت",
      "به ندرت",
      "گاهی",
      "اغلب",
      "خیلی زیاد"
    ]
  },
  {
    text: "در ماه گذشته، چقدر احساس کرده‌اید که مشکلات آنقدر جمع شده‌اند که نمی‌توانید بر آن‌ها غلبه کنید؟",
    options: [
      "هیچ وقت",
      "به ندرت",
      "گاهی",
      "اغلب",
      "خیلی زیاد"
    ]
  }
]



// خروجی نهایی با فیلدهای اجباری تکمیل می‌شود
export const pssQuestions: Question[] = normalizeQuestions(rawQuestions, {
  testId: 'pss',
  type: 'SINGLE_CHOICE',
  required: true
})

export const pssOptions = [
  { label: "هیچ وقت", value: 0 },
  { label: "به ندرت", value: 1 },
  { label: "گاهی", value: 2 },
  { label: "اغلب", value: 3 },
  { label: "خیلی زیاد", value: 4 }
]

export const getPssInterpretation = (score: number): string => {
  if (score <= 13) {
    return "استرس پایین - شما استرس کمی دارید و می‌توانید آن را مدیریت کنید."
  } else if (score <= 26) {
    return "استرس متوسط - شما استرس متوسطی دارید که ممکن است بر عملکرد روزانه شما تأثیر بگذارد."
  } else {
    return "استرس بالا - شما استرس بالایی دارید که بر زندگی روزانه شما تأثیر می‌گذارد."
  }
}

export const getPssSeverity = (score: number): 'پایین' | 'متوسط' | 'بالا' => {
  if (score <= 13) return 'پایین'
  if (score <= 26) return 'متوسط'
  return 'بالا'
}

export default pssQuestions


















