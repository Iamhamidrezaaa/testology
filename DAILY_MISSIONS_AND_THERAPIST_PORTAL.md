# ๐ฏ ูุฃููุฑุชโูุง ุฑูุฒุงูู + ูพุงู ุฎุตูุต + ุชููู ุฑูุงูโุดูุงุณ + ูพูุฑุชุงู ุฏุฑูุงูฺฏุฑ

## ๐ ุฎูุงุตู

ุงู ูุณุชูุฏ ุดุงูู ฺูุงุฑ ุณุณุชู ฺฉูุฏ ุฌุฏุฏ ุฏุฑ Testology ุงุณุช:
1. **ูุฃููุฑุชโูุง ุฑูุฒุงูู** (Daily Missions)
2. **ุณุณุชู ูพุงู ุฎุตูุต** (Private Messaging)
3. **ุชููู ุงุญุณุงุณุงุช** (Mood Calendar)
4. **ูพูุฑุชุงู ูพุดุฑูุชู ุฏุฑูุงูฺฏุฑ** (Advanced Therapist Portal)

---

## ๐ฎ ุจุฎุด ุงูู: ูุฃููุฑุชโูุง ุฑูุฒุงูู

### ๐๏ธ ูุฏู ุฏุชุงุจุณ

```prisma
model DailyMission {
  id          String   @id @default(cuid())
  title       String
  description String
  xpReward    Int
  isCompleted Boolean  @default(false)
  userId      String
  user        User     @relation(fields: [userId], references: [id])
  date        DateTime @default(now())
  
  @@unique([userId, date, title])
}
```

### ๐ API Endpoints

#### 1๏ธโฃ ุฏุฑุงูุช ูุฃููุฑุชโูุง ุงูุฑูุฒ
**GET** `/api/missions/today`

**ูฺฺฏโูุง:**
- ุงฺฏุฑ ูุฃููุฑุช ูุฌูุฏ ูุฏุงุดุชุ ุฎูุฏฺฉุงุฑ 4 ูุฃููุฑุช ุงุฌุงุฏ ูโุดูุฏ
- ูุฃููุฑุชโูุง ูพุดูุฑุถ:
  - ุงูุฌุงู ฺฉ ุชุณุช ุฑูุงูโุดูุงุณ (100 XP)
  - ุซุจุช ุงุญุณุงุณ ุงูุฑูุฒ (50 XP)
  - ูุทุงูุนู ฺฉ ููุงูู (30 XP)
  - 10 ุฏููู ูุฏุชุดู (75 XP)

**Response:**
```json
[
  {
    "id": "clx...",
    "title": "ุงูุฌุงู ฺฉ ุชุณุช ุฑูุงูโุดูุงุณ",
    "description": "ฺฉ ุงุฒ ุชุณุชโูุง ููุฌูุฏ ุฑุง ฺฉุงูู ฺฉูุฏ",
    "xpReward": 100,
    "isCompleted": false,
    "date": "2024-01-20T..."
  }
]
```

#### 2๏ธโฃ ุชฺฉูู ูุฃููุฑุช
**POST** `/api/missions/complete`

**Request:**
```json
{
  "missionId": "clx..."
}
```

**Response:**
```json
{
  "success": true,
  "mission": {...},
  "xpEarned": 100
}
```

**ุนููฺฉุฑุฏ:**
- ุนูุงูุชโฺฏุฐุงุฑ ูุฃููุฑุช ุจู ุนููุงู ุชฺฉูู ุดุฏู
- ุงุถุงูู ฺฉุฑุฏู XP ุจู UserProgress
- ุงุฑุณุงู ููุชูฺฉุดู ุจู ฺฉุงุฑุจุฑ

### ๐จ ฺฉุงููพูููุช UI

**ูุณุฑ:** `components/dashboard/DailyMissions.tsx`

**ูฺฺฏโูุง:**
- ููุงุด ููุงุฑ ูพุดุฑูุช ฺฉู
- ฺฺฉโุจุงฺฉุณ ุชุนุงูู ุจุฑุง ุชฺฉูู
- ููุงุด ูพุงุฏุงุด XP ูุฑ ูุฃููุฑุช
- ูพุงู ุชุจุฑฺฉ ุจุฑุง ุชฺฉูู ููู

**ุตูุญู:** `/dashboard/missions`

---

## ๐ ุจุฎุด ุฏูู: ุณุณุชู ูพุงู ุฎุตูุต

### ๐๏ธ ูุฏู ุฏุชุงุจุณ

```prisma
model PrivateMessage {
  id        String   @id @default(cuid())
  senderId  String
  receiverId String
  content   String
  read      Boolean  @default(false)
  createdAt DateTime @default(now())

  sender   User @relation("SentMessages", fields: [senderId], references: [id])
  receiver User @relation("ReceivedMessages", fields: [receiverId], references: [id])
}
```

### ๐ API Endpoints

#### 1๏ธโฃ ุงุฑุณุงู ูพุงู
**POST** `/api/messages/send`

**Request:**
```json
{
  "receiverId": "user123",
  "content": "ุณูุงูุ ฺุทูุฑ ูุณุชุฏุ"
}
```

**Response:**
```json
{
  "success": true,
  "message": {
    "id": "clx...",
    "senderId": "...",
    "receiverId": "...",
    "content": "...",
    "read": false,
    "createdAt": "...",
    "sender": {...},
    "receiver": {...}
  }
}
```

#### 2๏ธโฃ ุฏุฑุงูุช ูพุงูโูุง ุฏุฑุงูุช
**GET** `/api/messages/inbox`

#### 3๏ธโฃ ุฏุฑุงูุช ูพุงูโูุง ุงุฑุณุงู
**GET** `/api/messages/sent`

#### 4๏ธโฃ ุนูุงูุชโฺฏุฐุงุฑ ุจู ุนููุงู ุฎูุงูุฏู ุดุฏู
**POST** `/api/messages/read`

**Request:**
```json
{
  "messageId": "clx..."
}
```

### ๐จ ฺฉุงููพูููุช UI

**ูุณุฑ:** `components/messages/MessageInbox.tsx`

**ูฺฺฏโูุง:**
- ููุงุด ุชุนุฏุงุฏ ูพุงูโูุง ุฎูุงูุฏู ูุดุฏู
- ููุฏุงู ุจุฑุง ููุงุด ูพุงู ฺฉุงูู
- ูุดุงูฺฏุฑ ุจุตุฑ ุจุฑุง ูพุงูโูุง ุฌุฏุฏ
- ุขูุงุชุงุฑ ูุฑุณุชูุฏู

**ุตูุญู:** `/messages`

---

## ๐ ุจุฎุด ุณูู: ุชููู ุงุญุณุงุณุงุช

### ๐๏ธ ูุฏู ุฏุชุงุจุณ

```prisma
model MoodEntry {
  id        String   @id @default(cuid())
  userId    String
  mood      String
  note      String?
  date      DateTime @default(now())
  user      User     @relation(fields: [userId], references: [id])
}
```

### ๐ API Endpoints

#### 1๏ธโฃ ุซุจุช ุงุญุณุงุณ
**POST** `/api/mood/add`

**Request:**
```json
{
  "mood": "ุฎู ุฎูุจ",
  "note": "ุงูุฑูุฒ ุฑูุฒ ุนุงู ุจูุฏ!"
}
```

**Response:**
```json
{
  "success": true,
  "entry": {...},
  "xpEarned": 20
}
```

**ุนููฺฉุฑุฏ:**
- ุซุจุช mood ุฏุฑ ุฏุชุงุจุณ
- ุงุถุงูู ฺฉุฑุฏู 20 XP
- ุจูโุฑูุฒุฑุณุงู streak (ุชุฏุงูู ุฑูุฒุงูู)

#### 2๏ธโฃ ุฏุฑุงูุช ุชุงุฑุฎฺู
**GET** `/api/mood/history?limit=30&offset=0`

**Response:**
```json
{
  "history": [...],
  "stats": {
    "totalEntries": 45,
    "last30Days": 25,
    "mostCommonMood": "ุฎูุจ",
    "moodDistribution": {
      "ุฎู ุฎูุจ": 10,
      "ุฎูุจ": 12,
      "ูุนููู": 3
    }
  },
  "total": 45
}
```

#### 3๏ธโฃ ุฏุฑุงูุช ุฏุงุฏูโูุง ุชููู
**GET** `/api/mood/calendar?year=2024&month=1`

**Response:**
```json
[
  {
    "date": "2024-01-15",
    "mood": "ุฎู ุฎูุจ",
    "note": "ุฑูุฒ ุนุงู"
  }
]
```

### ๐จ ฺฉุงููพูููุช UI

**ูุณุฑ:** `components/calendar/MoodCalendar.tsx`

**ูฺฺฏโูุง:**
- ุชููู ูุงูุงูู ุจุง ููุงุด emoji ุจุฑุง ูุฑ ุฑูุฒ
- ููุฏุงู ุฒุจุง ุจุฑุง ุซุจุช ุงุญุณุงุณ
- 5 ฺฏุฒูู mood: ุฎู ุฎูุจุ ุฎูุจุ ูุนูููุ ุจุฏุ ุฎู ุจุฏ
- ุงูฺฉุงู ุงุถุงูู ฺฉุฑุฏู ุงุฏุฏุงุดุช

**Moods:**
```typescript
{
  'ุฎู ุฎูุจ': { emoji: '๐', color: 'bg-green-500' },
  'ุฎูุจ': { emoji: '๐', color: 'bg-blue-500' },
  'ูุนููู': { emoji: '๐', color: 'bg-yellow-500' },
  'ุจุฏ': { emoji: '๐', color: 'bg-orange-500' },
  'ุฎู ุจุฏ': { emoji: '๐ข', color: 'bg-red-500' }
}
```

**ุตูุญู:** `/mood`

---

## ๐จโโ๏ธ ุจุฎุด ฺูุงุฑู: ูพูุฑุชุงู ูพุดุฑูุชู ุฏุฑูุงูฺฏุฑ

### ๐๏ธ ูุฏู ุฏุชุงุจุณ

```prisma
model CustomExercise {
  id          String   @id @default(cuid())
  userId      String
  therapistId String
  title       String
  description String
  completed   Boolean  @default(false)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}
```

### ๐ API Endpoints

#### 1๏ธโฃ ฺฏุฒุงุฑุด ุชุฑฺฉุจ ุจูุงุฑ
**GET** `/api/therapist/report/[userId]`

**Response:**
```json
{
  "success": true,
  "patient": {...},
  "totalTests": 15,
  "testsByType": {
    "phq9": [...],
    "gad7": [...]
  },
  "trends": {
    "phq9": "ุจูุชุฑ ุดุฏู",
    "gad7": "ุซุงุจุช"
  },
  "strengths": ["PHQ-9: ูุถุนุช ุฎูุจ"],
  "concerns": ["GAD-7: ูุงุฒ ุจู ุชูุฌู ูฺู"],
  "recentMoods": [...],
  "progress": {...},
  "summary": "ุชุนุฏุงุฏ ฺฉู ุชุณุชโูุง: 15\n..."
}
```

**ุชุญููโูุง:**
- ุชุนุฏุงุฏ ฺฉู ุชุณุชโูุง
- ฺฏุฑููโุจูุฏ ุจุฑ ุงุณุงุณ ููุน
- ุชุญูู ุฑููุฏ (ุจูุชุฑ/ุจุฏุชุฑ/ุซุงุจุช)
- ุดูุงุณุง ููุงุท ููุช ู ุถุนู
- ุงุญุณุงุณุงุช ุงุฎุฑ (7 ุฑูุฒ)
- ุขูุงุฑ ูพุดุฑูุช

#### 2๏ธโฃ ุงุฑุณุงู ุชูุฑู ุจู ุจูุงุฑ
**POST** `/api/therapist/exercises/send`

**Request:**
```json
{
  "userId": "patient123",
  "title": "ุชูุฑู ุชููุณ ุนูู",
  "description": "ูุฑ ุฑูุฒ 10 ุฏููู ุชูุฑู ุชููุณ..."
}
```

**Response:**
```json
{
  "success": true,
  "exercise": {...}
}
```

**ุนููฺฉุฑุฏ:**
- ุฐุฎุฑู ุชูุฑู ุฏุฑ ุฏุชุงุจุณ
- ุงุฑุณุงู ููุชูฺฉุดู ุจู ุจูุงุฑ

#### 3๏ธโฃ ูุณุช ุชูุฑูโูุง ุงุฑุณุงู ุดุฏู
**GET** `/api/therapist/exercises/send?patientId=user123`

#### 4๏ธโฃ ุฏุฑุงูุช ุชูุฑูโูุง ูู (ฺฉุงุฑุจุฑ)
**GET** `/api/exercises/my`

#### 5๏ธโฃ ุชฺฉูู ุชูุฑู (ฺฉุงุฑุจุฑ)
**POST** `/api/exercises/my`

**Request:**
```json
{
  "exerciseId": "clx..."
}
```

**Response:**
```json
{
  "success": true,
  "exercise": {...},
  "xpEarned": 50
}
```

### ๐จ ฺฉุงููพูููุชโูุง UI

#### PatientReport
**ูุณุฑ:** `components/therapist/PatientReport.tsx`

**ููุงุด:**
- ุงุทูุงุนุงุช ุจูุงุฑ
- ุฎูุงุตู ูุถุนุช
- ููุงุท ูฺฏุฑุงูโฺฉููุฏู (ูุฑูุฒ)
- ููุงุท ููุช (ุณุจุฒ)
- ุฑููุฏ ุชุณุชโูุง
- ุงุญุณุงุณุงุช ุงุฎุฑ
- ุขูุงุฑ ูพุดุฑูุช

#### SendExercise
**ูุณุฑ:** `components/therapist/SendExercise.tsx`

**ูฺฺฏโูุง:**
- ูุฑู ุงุฑุณุงู ุชูุฑู
- 4 ุชูุฑู ูพุดููุงุฏ ุงุฒ ูพุด ุชุนุฑู ุดุฏู:
  1. ุชูุฑู ุชููุณ ุนูู
  2. ุงุฏุฏุงุดุช ูุฏุฑุฏุงู ุฑูุฒุงูู
  3. ูพุงุฏูโุฑู ุฑูุฒุงูู
  4. ฺุงูุด ููุงุฌูู ุชุฏุฑุฌ
- ุงูฺฉุงู ุณูุงุฑุดโุณุงุฒ ฺฉุงูู

**ุตูุญูโูุง:**
- `/therapist/report/[userId]` - ฺฏุฒุงุฑุด ุจูุงุฑ + ุงุฑุณุงู ุชูุฑู
- `/exercises` - ูุณุช ุชูุฑูโูุง ูู (ุจุฑุง ุจูุงุฑ)

---

## ๐ ุตูุญุงุช Next.js

### 1๏ธโฃ ูุฃููุฑุชโูุง ุฑูุฒุงูู
- **ูุณุฑ:** `/dashboard/missions`
- **ูุงู:** `app/dashboard/missions/page.tsx`
- **ุฏุณุชุฑุณ:** ููู ฺฉุงุฑุจุฑุงู

### 2๏ธโฃ ูพุงูโูุง
- **ูุณุฑ:** `/messages`
- **ูุงู:** `app/messages/page.tsx`
- **ุฏุณุชุฑุณ:** ููู ฺฉุงุฑุจุฑุงู

### 3๏ธโฃ ุชููู ุงุญุณุงุณุงุช
- **ูุณุฑ:** `/mood`
- **ูุงู:** `app/mood/page.tsx`
- **ุฏุณุชุฑุณ:** ููู ฺฉุงุฑุจุฑุงู

### 4๏ธโฃ ฺฏุฒุงุฑุด ุจูุงุฑ (ุฏุฑูุงูฺฏุฑ)
- **ูุณุฑ:** `/therapist/report/[userId]`
- **ูุงู:** `app/therapist/report/[userId]/page.tsx`
- **ุฏุณุชุฑุณ:** ููุท ุฏุฑูุงูฺฏุฑ/ุงุฏูู

### 5๏ธโฃ ุชูุฑูโูุง ูู
- **ูุณุฑ:** `/exercises`
- **ูุงู:** `app/exercises/page.tsx`
- **ุฏุณุชุฑุณ:** ููู ฺฉุงุฑุจุฑุงู

---

## ๐ฐ ุณุณุชู XP ู ูพุงุฏุงุดโูุง

| ูุนุงูุช | XP |
|--------|-----|
| ุชฺฉูู ูุฃููุฑุช (ฺฉู) | 30 |
| ุชฺฉูู ูุฃููุฑุช (ูุชูุณุท) | 50-75 |
| ุชฺฉูู ูุฃููุฑุช (ุฒุงุฏ) | 100 |
| ุซุจุช ุงุญุณุงุณ ุฑูุฒุงูู | 20 |
| ุชฺฉูู ุชูุฑู ุฏุฑูุงูฺฏุฑ | 50 |

---

## ๐ ุงููุช ู ุฏุณุชุฑุณ

### ฺฉุงุฑุจุฑุงู ุนุงุฏ:
- โ ูุดุงูุฏู ู ุชฺฉูู ูุฃููุฑุชโูุง ุฎูุฏ
- โ ุงุฑุณุงู ู ุฏุฑุงูุช ูพุงู
- โ ุซุจุช ุงุญุณุงุณ ุฑูุฒุงูู
- โ ูุดุงูุฏู ุชูุฑูโูุง ุฎูุฏ

### ุฏุฑูุงูฺฏุฑุงู:
- โ ููู ุฏุณุชุฑุณโูุง ฺฉุงุฑุจุฑ ุนุงุฏ
- โ ูุดุงูุฏู ฺฏุฒุงุฑุด ุจูุงุฑุงู
- โ ุงุฑุณุงู ุชูุฑู ุจู ุจูุงุฑุงู
- โ ุชุญูู ุฑููุฏ ุชุณุชโูุง

### ุงุฏูู:
- โ ุชูุงู ุฏุณุชุฑุณโูุง

---

## ๐ ุขูุงุฑ ู ุชุญูู

### ุจุฑุง ฺฉุงุฑุจุฑ:
- ุชุนุฏุงุฏ ูุฃููุฑุชโูุง ุชฺฉูู ุดุฏู ุงูุฑูุฒ
- Streak (ุชุฏุงูู) ุซุจุช ุงุญุณุงุณ
- ุชุนุฏุงุฏ ุชูุฑูโูุง ุฏุฑ ุงูุชุธุงุฑ/ุชฺฉูู ุดุฏู

### ุจุฑุง ุฏุฑูุงูฺฏุฑ:
- ุฑููุฏ ุชุณุชโูุง ุจูุงุฑ
- ุงูฺฏููุง ุงุญุณุงุณ
- ููุงุท ููุช ู ุถุนู
- ุณุทุญ ุฎุทุฑ (Low/Medium/High)

---

## ๐ฏ ูฺฺฏโูุง ููุญุตุฑ ุจู ูุฑุฏ

### 1. ูุฃููุฑุชโูุง ููุดููุฏ
- ูุฑ ุฑูุฒ ูุฃููุฑุชโูุง ุฌุฏุฏ
- ููุงุณุจ ุจุฑุง ุณุทุญ ฺฉุงุฑุจุฑ
- ูุชููุน ู ุฌุฐุงุจ

### 2. ุชุญูู ุชุฑฺฉุจ
- ุจุฑุฑุณ ููุฒูุงู ฺูุฏ ุชุณุช
- ุดูุงุณุง ุงูฺฏููุง
- ุชูุตูโูุง ุดุฎุตโุณุงุฒ ุดุฏู

### 3. ุชูุฑูโูุง ุงุฎุชุตุงุต
- ุทุฑุงุญ ุดุฏู ุชูุณุท ุฏุฑูุงูฺฏุฑ
- ูุชูุงุณุจ ุจุง ูุงุฒ ุจูุงุฑ
- ูุงุจู ูพฺฏุฑ

### 4. ุชููู ุจุตุฑ
- ููุงุด emoji ุฏุฑ ุชููู
- ูพฺฏุฑ ุฑููุฏ ูุงูุงูู
- ุขูุงุฑ ุชูุตู

---

## ๐๏ธ ูุตุจ ู ุฑุงูโุงูุฏุงุฒ

### 1. ุจูโุฑูุฒุฑุณุงู ุฏุชุงุจุณ:
```bash
npx prisma db push
npx prisma generate
```

### 2. ุงุฌุฑุง ุณุฑูุฑ:
```bash
npm run dev
```

### 3. ุชุณุช API ูุง:
```bash
# ุชุณุช ูุฃููุฑุชโูุง
curl http://localhost:3000/api/missions/today

# ุชุณุช ูพุงูโูุง
curl http://localhost:3000/api/messages/inbox

# ุชุณุช mood
curl http://localhost:3000/api/mood/history
```

---

## ๐ ููููู ุงุณุชูุงุฏู

### ุณูุงุฑู 1: ฺฉุงุฑุจุฑ ุนุงุฏ
```
1. ูุฑูุฏ ุจู ุณุณุชู
2. ูุดุงูุฏู ูุฃููุฑุชโูุง ุงูุฑูุฒ (/dashboard/missions)
3. ุงูุฌุงู ฺฉ ุชุณุช โ ุชฺฉูู ูุฃููุฑุช โ +100 XP
4. ุซุจุช ุงุญุณุงุณ ุงูุฑูุฒ (/mood) โ +20 XP
5. ูุดุงูุฏู ุชูุฑูโูุง ุฏุฑูุงูฺฏุฑ (/exercises)
6. ุชฺฉูู ฺฉ ุชูุฑู โ +50 XP
```

### ุณูุงุฑู 2: ุฏุฑูุงูฺฏุฑ
```
1. ูุฑูุฏ ุจู ูพูู ุฏุฑูุงูฺฏุฑ
2. ุงูุชุฎุงุจ ุจูุงุฑ
3. ูุดุงูุฏู ฺฏุฒุงุฑุด ฺฉุงูู (/therapist/report/[userId])
4. ุชุญูู ุฑููุฏ ุชุณุชโูุง
5. ุงุฑุณุงู ุชูุฑู ุดุฎุตโุณุงุฒ ุดุฏู
6. ุงุฑุณุงู ูพุงู ุชุดูู
```

---

## ๐ฎ ูฺฺฏโูุง ุขูุฏู

- [ ] ูุฃููุฑุชโูุง ฺฏุฑูู
- [ ] ฺุงูุดโูุง ููุชฺฏ
- [ ] ูุฏุฑุจูุฑุฏ ูุฃููุฑุชโูุง
- [ ] ฺุช ุชุตูุฑ ุจุง ุฏุฑูุงูฺฏุฑ
- [ ] ุงุฏุขูุฑ ุฎูุฏฺฉุงุฑ ุจุฑุง ูุฃููุฑุชโูุง
- [ ] ุชุญูู mood ุจุง ML
- [ ] ูพุดููุงุฏ ุชูุฑู ููุดููุฏ ุจุฑ ุงุณุงุณ AI

---

## โจ ูุชุฌูโฺฏุฑ

ุจุง ุงูุฒูุฏู ุงู ฺูุงุฑ ุณุณุชูุ Testology ุญุงูุง ฺฉ **ูพูุชูุฑู ฺฉุงูู ู ุฌุงูุน** ุจุฑุง:

โ ุงูฺฏุฒูโุฏู ฺฉุงุฑุจุฑุงู (ูุฃููุฑุชโูุง ุฑูุฒุงูู)
โ ุงุฑุชุจุงุท ุฎุตูุต (ูพุงูโุฑุณุงู)
โ ุฎูุฏุขฺฏุงู ุงุญุณุงุณ (ุชููู mood)
โ ุฏุฑูุงู ุญุฑููโุง (ูพูุฑุชุงู ุฏุฑูุงูฺฏุฑ)

**ููู ุฏุฑ ฺฉ ูพูุชูุฑู ูุงุญุฏ! ๐๐ง๐**
















